%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Begin exercise %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ex{DC machines -- operation behavior}


\normalsize{\textbf{Acknowledgement}: The following exercise is adapted from ``Grundlagen der Elektrotechnik Teil~B'' by J. BÃ¶cker, Paderborn University, 2020}\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Task 1 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\task{Series DC machine with DC and AC voltage supply}
In this task, a ten-pole series DC machine is given. The supply voltage is $U_{\mathrm{DC}}$ = 325 V with an electrical input power of $P_{\mathrm{el}}$ = 500 W at a nominal speed of 1600 $\mathrm{min^{-1}}$.


\subtask{Calculate the nominal torque $\Tn$ and the nominal armature current $I_{\mathrm{a,n}}$ for an effective field inductance of $L_{\mathrm{f}}'$ = 1.24 H.}

\begin{solutionblock}
  The armature current is calculated with:
  \begin{equation}
    I_{\mathrm{a,n}} = \frac{P_{\mathrm{el}}}{U_{\mathrm{DC}}}
    = \frac{\SI{500}{\watt}}{\SI{325}{\volt}}
    = \SI{1.54}{\ampere}.
  \end{equation}

  Hence, the nominal torque calculates as:
  \begin{equation}
    \Tn = L_{\mathrm{f}}' I_{\mathrm{a,n}}^2
    = \SI{1.21}{\henry} \cdot \left(\SI{1.54}{\ampere} \right)^2
    = \SI{2.9}{\newton \metre}.
  \end{equation}
\end{solutionblock}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subtask{Determine the efficiency for the given operating point.}

\begin{solutionblock}
  The mechanical power is given with
  \begin{equation}
    P_{\mathrm{mech}} = \Tn \omega_{\mathrm{n}}
    = \SI{2.9}{\newton \metre} \cdot 2 \pi \cdot \SI{\frac{1600}{60}}
    { \per \second}
    = \SI{486}{\watt}.
  \end{equation}

  The electrical input power is known from the task description, which results in the following efficiency:
  \begin{equation}
    \eta = \frac{P_{\mathrm{mech}}}{P_{\mathrm{el}}}
    = \frac{\SI{486}{\watt}}{\SI{500}{\watt}}
    = 0.972 = \SI{97.2}{\%}.
  \end{equation}
\end{solutionblock}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subtask{The machine is manufactured with a lap winding, which contains $N_{\mathrm{a}}$ = 40 armature windings. The number of field windings $N_{\mathrm{f}}$ = 10 is given too. Calculate the field inductance $L_{\mathrm{f}}$.}

\begin{solutionblock}
  
  The field inductive is calculated with:
  \begin{equation}
    L_{\mathrm{f}} = L_{\mathrm{f}}' \frac{N_{\mathrm{f}}}{N_{\mathrm{a}}} \frac{a \pi}{2p}
    = \SI{1.24}{\henry} \cdot \frac{10}{40} \cdot \frac{5 \pi}{2 \cdot 5}
    = \SI{0.49}{\henry},
  \end{equation}
  where $a=p$ due to the lap winding.
\end{solutionblock}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subtask{Calculate the peak and the average torque of the machine for an alternating voltage supply with $U$~=~230~V and a frequency $f$~=~50~Hz. Assume, that the armature inductivity is given as $L_{\mathrm{a}} = L_{\mathrm{f}} \frac{N_{\mathrm{a}}}{N_{\mathrm{f}}}$.
Interpret the results.}

\begin{solutionblock}
  
  The total series inductance is calculated with:
  \begin{equation}
    L = L_{\mathrm{a}} + L_{\mathrm{f}}
    = L_{\mathrm{f}} \frac{N_{\mathrm{a}}}{N_{\mathrm{f}}} + L_{\mathrm{f}}
    = \SI{0.49}{\henry} \cdot \frac{40}{10} + \SI{0.49}{\henry}
    = \SI{2.43}{\henry}.
  \end{equation}

  The effective resistance can be calculated on the previously provided information from the DC operation case:
  \begin{equation}
    R'(\omega) = \frac{U_{\mathrm{DC}}}{I_{\mathrm{a,n}}}
    = \frac{\SI{325}{\volt}}{\SI{1.54}{\ampere}}
    = \SI{211}{\Omega}.
  \end{equation}

  Therefore, the peak torque is calculated with:
  \begin{equation}
    \hat{T} = 2 L_{\mathrm{f}}' \frac{U^2}{R'(\omega)^2 + \omega_{\mathrm{el}}^2 L^2}
    = 2 \cdot \SI{1.24}{\henry} \cdot \frac{\left(\SI{230}{\volt}\right)^2}{\left(\SI{211}{\Omega}\right)^2 + \left(2\pi \cdot \SI{50}{\hertz}\right)^2 \cdot \left(\SI{2.43}{\henry} \right)^2}
    = \SI{0.21}{\newton \metre}.
  \end{equation}

  The average torque is defined as:
  \begin{equation}
    T = \frac{1}{2} \hat{T}
    = \frac{1}{2} \cdot \SI{0.21}{\newton \metre}
    = \SI{0.11}{\newton \metre}.
  \end{equation}

  The machine in this task is designed for a DC voltage supply, which is shown indirectly with the good efficiency.
  By considering an AC voltage supply, the high inductance value increases the induced voltage significantly. Hence, no voltage margin remains between the terminal voltage and the induced voltage, which results in a small armature current and a small corresponding torque.
  To complete this task: When the series DC machine is designed for a DC voltage supply, the operation with an AC voltage does not make sense but requires an electromagnetic redesign of the machine.

\end{solutionblock}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Task 1 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\task{Shunt DC machine drive of a hand-guided grinder}

\subtask{Explain why a series machine is not suitable for a hand-guided grinder application.}
\begin{solutionblock}
  A series DC machine torque is given by
  \begin{equation}
    T = L_{\mathrm{f}}' \left(\frac{U}{R_\mathrm{a} + R_\mathrm{f} + \omega L'_\mathrm{f}}\right)^2.
  \end{equation}
  Assuming a constant terminal voltage $U$, the torque $T$ scales inversely to the rotor angular frequency $\omega$. If the grinder is unloaded ($T \rightarrow 0$), i.e., during non-grinding idle operation, the rotor speed (theoretically) increases to infinity.  In practice, the air drag and the friction of the bearings still generate some load torque and, therefore, limit the speed. However, the speed still can get very high, which may lead to mechanical failure of the rotor.
\end{solutionblock}

\subtask{Derive the steady-state torque-speed characteristic of a shunt DC machine and sketch it to highlight the usability of this DC machine configuration for a hand-guided grinder.}
\begin{solutionblock}
  The steady-state voltage equations of a shunt DC machine are given by
  \begin{equation}
    \begin{split}
      U &= R_\mathrm{a} I_\mathrm{a} + \omega L'_\mathrm{f} I_\mathrm{f},\\
      U &= R_\mathrm{f} I_\mathrm{f}.
    \end{split}
  \end{equation}
  This results in the steady-state armature and field currents as
  \begin{equation}
    \begin{split}
      I_\mathrm{a} &= \frac{U}{R_\mathrm{a}} - \frac{U L'_\mathrm{f} \omega}{R_\mathrm{a}R_\mathrm{f}},\\
      I_\mathrm{f} &= \frac{U}{R_\mathrm{f}}.
    \end{split}
  \end{equation}
  The torque is then given by
  \begin{equation}
    T = L_{\mathrm{f}}' I_\mathrm{a} I_\mathrm{f} = \underbrace{\frac{U^2 L_{\mathrm{f}}'}{R_\mathrm{f}R_\mathrm{a}}}_{T_0}  \left(1 - \frac{L'_\mathrm{f}}{R_\mathrm{f}}\omega\right)
  \end{equation}
  or conversely the rotor angular frequency as
  \begin{equation}
    \omega = \underbrace{\frac{R_\mathrm{f}}{L'_\mathrm{f}}}_{\omega_0} \left(1 - \frac{R_\mathrm{f} R_\mathrm{a}}{U^2 L_{\mathrm{f}}'} T\right)
  \end{equation}
  with $T_0$ being the breakaway torque and $\omega_0$ the no-load speed. 
  \begin{solutionfigure}
    \centering
    \begin{tikzpicture}
      \begin{axis}[
           xlabel={$T$},
            ylabel={$\omega$},
            ymin=-0.1, ymax=1.1,
            xmin=-0.1, xmax=1.1,
            width = 0.4\textwidth,
            height = 0.4\textwidth,
            grid,
            thick,
            axis lines=middle,
            xtick = {0, 0.2, 0.4, 0.6, 0.8, 1},
            xticklabels = {, , , , , $T_0$},
            ytick = {0, 0.2, 0.4, 0.6, 0.8, 1},
            yticklabels = {, , , , , $\omega_0$},
            xlabel style = {anchor=west},
            ylabel style = {anchor=south},
          ]
          \addplot[signalblue, domain=-0.1:1.1, samples=50] {1-x};
          \addplot[thin] coordinates {(0.45,0.55) (0.55,0.55) (0.55,0.45)};
          \draw[very thin] (0.57,0.57) -- (0.63,0.63) node[anchor=south west, inner sep = 0pt, xshift=-2pt, yshift=-3pt] {$-\frac{R_\mathrm{a}}{\psi'^2_\mathrm{f}}$};
      \end{axis}
  \end{tikzpicture}
  \caption{Torque-speed characteristic of a shunt DC machine (for a constant $U$)}
  \label{fig:shuntDCmachine_torque_speed}
\end{solutionfigure}
As depicted in \autoref{fig:shuntDCmachine_torque_speed}, the no-load speed $\omega_0$ of the shunt DC machine is finite and adjustable via the machine design. Also, the linear torque-speed characteristic allows for a convenient operation of the grinder as the loading of the grinder results in a proportional decrease of the speed.   
\end{solutionblock}

